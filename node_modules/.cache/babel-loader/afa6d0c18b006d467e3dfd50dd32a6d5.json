{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hp\\\\React-Material_UI-table\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Table,TableHead,TableRow,TableCell,makeStyles,TablePagination,TableSortLabel}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{table:{marginTop:theme.spacing(3),'& thead th':{fontWeight:'600',color:theme.palette.primary.main,backgroundColor:theme.palette.primary.light},'& tbody td':{fontWeight:'300'},'& tbody tr:hover':{backgroundColor:'#fffbf2',cursor:'pointer'}}};});export default function useTable(records,headCells,filterFn){var classes=useStyles();var pages=[5,10,25];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(pages[page]),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),order=_useState6[0],setOrder=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),orderBy=_useState8[0],setOrderBy=_useState8[1];var TblContainer=function TblContainer(props){return/*#__PURE__*/React.createElement(Table,{className:classes.table},props.children);};var TblHead=function TblHead(props){var handleSortRequest=function handleSortRequest(cellId){var isAsc=orderBy===cellId&&order===\"asc\";setOrder(isAsc?'desc':'asc');setOrderBy(cellId);};return/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,headCells.map(function(headCell){return/*#__PURE__*/React.createElement(TableCell,{key:headCell.id,sortDirection:orderBy===headCell.id?order:false},headCell.disableSorting?headCell.label:/*#__PURE__*/React.createElement(TableSortLabel,{active:orderBy===headCell.id,direction:orderBy===headCell.id?order:'asc',onClick:function onClick(){handleSortRequest(headCell.id);}},headCell.label));})));};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};var TblPagination=function TblPagination(){return/*#__PURE__*/React.createElement(TablePagination,{component:\"div\",page:page,rowsPerPageOptions:pages,rowsPerPage:rowsPerPage,count:records.length,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage});};function stableSort(array,comparator){var stabilizedThis=array.map(function(el,index){return[el,index];});stabilizedThis.sort(function(a,b){var order=comparator(a[0],b[0]);if(order!==0)return order;return a[1]-b[1];});return stabilizedThis.map(function(el){return el[0];});}function getComparator(order,orderBy){return order==='desc'?function(a,b){return descendingComparator(a,b,orderBy);}:function(a,b){return-descendingComparator(a,b,orderBy);};}function descendingComparator(a,b,orderBy){if(b[orderBy]<a[orderBy]){return-1;}if(b[orderBy]>a[orderBy]){return 1;}return 0;}var recordsAfterPagingAndSorting=function recordsAfterPagingAndSorting(){return stableSort(filterFn.fn(records),getComparator(order,orderBy)).slice(page*rowsPerPage,(page+1)*rowsPerPage);};return{TblContainer:TblContainer,TblHead:TblHead,TblPagination:TblPagination,recordsAfterPagingAndSorting:recordsAfterPagingAndSorting};}","map":{"version":3,"sources":["C:/Users/Hp/React-Material_UI-table/src/components/useTable.js"],"names":["React","useState","Table","TableHead","TableRow","TableCell","makeStyles","TablePagination","TableSortLabel","useStyles","theme","table","marginTop","spacing","fontWeight","color","palette","primary","main","backgroundColor","light","cursor","useTable","records","headCells","filterFn","classes","pages","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","TblContainer","props","children","TblHead","handleSortRequest","cellId","isAsc","map","headCell","id","disableSorting","label","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","TblPagination","length","stableSort","array","comparator","stabilizedThis","el","index","sort","a","b","getComparator","descendingComparator","recordsAfterPagingAndSorting","fn","slice"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Table, TableHead, TableRow, TableCell, makeStyles, TablePagination, TableSortLabel } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    table: {\r\n        marginTop: theme.spacing(3),\r\n        '& thead th': {\r\n            fontWeight: '600',\r\n            color: theme.palette.primary.main,\r\n            backgroundColor: theme.palette.primary.light,\r\n        },\r\n        '& tbody td': {\r\n            fontWeight: '300',\r\n        },\r\n        '& tbody tr:hover': {\r\n            backgroundColor: '#fffbf2',\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n}))\r\n\r\nexport default function useTable(records, headCells,filterFn) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const pages = [5, 10, 25]\r\n    const [page, setPage] = useState(0)\r\n    const [rowsPerPage, setRowsPerPage] = useState(pages[page])\r\n    const [order, setOrder] = useState()\r\n    const [orderBy, setOrderBy] = useState()\r\n\r\n    const TblContainer = props => (\r\n        <Table className={classes.table}>\r\n            {props.children}\r\n        </Table>\r\n    )\r\n\r\n    const TblHead = props => {\r\n\r\n        const handleSortRequest = cellId => {\r\n            const isAsc = orderBy === cellId && order === \"asc\";\r\n            setOrder(isAsc ? 'desc' : 'asc');\r\n            setOrderBy(cellId)\r\n        }\r\n\r\n        return (<TableHead>\r\n            <TableRow>\r\n                {\r\n                    headCells.map(headCell => (\r\n                        <TableCell key={headCell.id}\r\n                            sortDirection={orderBy === headCell.id ? order : false}>\r\n                            {headCell.disableSorting ? headCell.label :\r\n                                <TableSortLabel\r\n                                    active={orderBy === headCell.id}\r\n                                    direction={orderBy === headCell.id ? order : 'asc'}\r\n                                    onClick={() => { handleSortRequest(headCell.id) }}>\r\n                                    {headCell.label}\r\n                                </TableSortLabel>\r\n                            }\r\n                        </TableCell>))\r\n                }\r\n            </TableRow>\r\n        </TableHead>)\r\n    }\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    }\r\n\r\n    const handleChangeRowsPerPage = event => {\r\n        setRowsPerPage(parseInt(event.target.value, 10))\r\n        setPage(0);\r\n    }\r\n\r\n    const TblPagination = () => (<TablePagination\r\n        component=\"div\"\r\n        page={page}\r\n        rowsPerPageOptions={pages}\r\n        rowsPerPage={rowsPerPage}\r\n        count={records.length}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n    />)\r\n\r\n    function stableSort(array, comparator) {\r\n        const stabilizedThis = array.map((el, index) => [el, index]);\r\n        stabilizedThis.sort((a, b) => {\r\n            const order = comparator(a[0], b[0]);\r\n            if (order !== 0) return order;\r\n            return a[1] - b[1];\r\n        });\r\n        return stabilizedThis.map((el) => el[0]);\r\n    }\r\n\r\n    function getComparator(order, orderBy) {\r\n        return order === 'desc'\r\n            ? (a, b) => descendingComparator(a, b, orderBy)\r\n            : (a, b) => -descendingComparator(a, b, orderBy);\r\n    }\r\n\r\n    function descendingComparator(a, b, orderBy) {\r\n        if (b[orderBy] < a[orderBy]) {\r\n            return -1;\r\n        }\r\n        if (b[orderBy] > a[orderBy]) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    const recordsAfterPagingAndSorting = () => {\r\n        return stableSort(filterFn.fn(records), getComparator(order, orderBy))\r\n            .slice(page * rowsPerPage, (page + 1) * rowsPerPage)\r\n    }\r\n\r\n    return {\r\n        TblContainer,\r\n        TblHead,\r\n        TblPagination,\r\n        recordsAfterPagingAndSorting\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}